{% extends 'base.html.twig' %}

{% block title %}
    Liste des projets - TaskLinker
{% endblock %}

{% block body %}
    <div id="projects-container">
        {% for project in projects %}
            <article class="card-project">
                <a href="{{ path('app_show_project', { project: project.id }) }}"><h2>{{ project.name }}</h2></a>
                {% if is_granted('ROLE_ADMIN') %}
                    <div class="card-project-icons">
                        <a href="{{ path('app_edit_project', { project: project.id }) }}"><i class="fa-solid fa-pen"></i></a>
                        <a href="{{ path('app_archive_project', { project: project.id }) }}"><i class="fa-solid fa-trash"></i></a>
                    </div>
                {% endif %}
            </article>
        {% endfor %}
        {% if is_granted('ROLE_ADMIN') %}
            <article class="card-project">
                <a href="{{ path('app_new_project') }}">
                    <i class="fa-solid fa-circle-plus add-project-icon"></i>
                    <h2>Ajouter un projet</h2>
                </a>
            </article>
        {% endif %}
    </div>
{% endblock %}
